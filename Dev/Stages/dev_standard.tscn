[gd_scene load_steps=8 format=2]

[ext_resource path="res://Scripts/Ball/ball_reactor.gd" type="Script" id=1]
[ext_resource path="res://Scripts/goal_area.gd" type="Script" id=2]
[ext_resource path="res://Scripts/Stage/paddle_spawn.gd" type="Script" id=3]
[ext_resource path="res://Scripts/Stage/stage.gd" type="Script" id=5]

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 1400, 30 )

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 1400, 30 )

[sub_resource type="RectangleShape2D" id=3]
extents = Vector2( 50, 600 )

[node name="DevStage001" type="Node2D"]
script = ExtResource( 5 )
_paddle_spawn_paths = [ NodePath("PlayerSpawnR"), NodePath("PlayerSpawnL") ]

[node name="WallSouth" type="Node2D" parent="."]
position = Vector2( 0, 580 )

[node name="PaddleCollider" type="StaticBody2D" parent="WallSouth"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="WallSouth/PaddleCollider"]
shape = SubResource( 1 )

[node name="BallCollider" type="StaticBody2D" parent="WallSouth"]
collision_layer = 4
collision_mask = 0
script = ExtResource( 1 )

[node name="ColShape" type="CollisionShape2D" parent="WallSouth/BallCollider"]
shape = SubResource( 2 )

[node name="WallNorth" type="Node2D" parent="."]
position = Vector2( 0, -580 )

[node name="PaddleCollider" type="StaticBody2D" parent="WallNorth"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="WallNorth/PaddleCollider"]
shape = SubResource( 1 )

[node name="BallCollider" type="StaticBody2D" parent="WallNorth"]
collision_layer = 4
collision_mask = 0
script = ExtResource( 1 )

[node name="ColShape" type="CollisionShape2D" parent="WallNorth/BallCollider"]
shape = SubResource( 2 )

[node name="GoalAreaR" type="Area2D" parent="."]
position = Vector2( 1080, 0 )
collision_layer = 0
collision_mask = 8
script = ExtResource( 2 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="GoalAreaR"]
shape = SubResource( 3 )

[node name="GoalAreaL" type="Area2D" parent="."]
position = Vector2( -1080, 0 )
collision_layer = 0
collision_mask = 8
script = ExtResource( 2 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="GoalAreaL"]
shape = SubResource( 3 )

[node name="PlayerSpawnR" type="Node2D" parent="."]
position = Vector2( 900, 0 )
script = ExtResource( 3 )
_goal_area_path = NodePath("../GoalAreaR")

[node name="PlayerSpawnL" type="Node2D" parent="."]
position = Vector2( -900, 0 )
script = ExtResource( 3 )
shooting_direction = Vector2( 1, 0 )
_goal_area_path = NodePath("../GoalAreaL")

[connection signal="body_entered" from="GoalAreaR" to="GoalAreaR" method="_on_GoalArea_body_entered"]
[connection signal="body_entered" from="GoalAreaL" to="GoalAreaL" method="_on_GoalArea_body_entered"]
